<!-- Content Wrapper. Contains page content -->
<div class="content-wrapper">
   <!-- Content Header (Page header) -->
   <section class="content-header">
      <h1>
         Lista de Usuários
     </h1>
 </section>

 <!-- Main content -->
 <section class="content">

   <div class="row">
     <div class="col-md-12">
       <div class="box box-primary">
          <div class="box-header with-border">
             <h3 class="box-title">Editar Usuário</h3>
         </div>
         <!-- /.box-header -->
         <!-- form start -->
         <form role="form" action="/AdminPainel/users/{$user.iduser}" method="post">
             <div class="box-body">
                <div class="form-group">
                   <label for="desperson">Nome</label>
                   <input type="text" class="form-control" id="desperson" name="desperson" placeholder="Digite o nome" value="{$user.desperson}" onkeyup="corrigirValor(this)">
               </div>
               <div class="form-group">
                   <label for="destypedoc">Tipo Documento</label></br>
                   <select name="destypedoc" id="destypedoc" style="height: 36px; width: 100%">
                      <option>Selecione...</option>
                      <option id="RG" value="RG" {if="$user.destypedoc == 'RG'"}selected{/if}>RG</option>
                      <option value="CPF" {if="$user.destypedoc == 'CPF'"}selected{/if}>CPF</option>
                      <option value="Passaporte" {if="$user.destypedoc == 'Passaporte'"}selected{/if}>Passaporte</option>
                  </select>
              </div>
              <div class="form-select">
                <div class="form-group" style="float: right; width: 100%;">
                   <label for="nrdocument">Número do Documento</label>
                   <input type="number" style="" class="form-control" id="nrdocument" name="nrdocument" placeholder="Digite o Nº do Doumento" value="{$user.nrdocument}">
               </div>
               <div class="form-group divEmitter" id="hidden_div">
                   <label for="desemitter">Orgão Emissor</label>
                   <input style="" type="text" class="form-control" name="desemitter" id="desemitter" placeholder="Digite o Orgão Emissor" value="{$user.desemitter}" onkeyup="maiuscula(this)">
               </div>
           </div>
           <div class="form-group">
              <label for="deslogin">Login</label>
              <input type="text" class="form-control" id="deslogin" name="deslogin" placeholder="Digite o login" value="{$user.deslogin}" onkeyup="maiuscula(this)">
          </div>
          <div class="form-group">
              <label for="nrphone">Celular</label>
              <input type="tel" class="form-control" id="nrphone" name="nrphone" placeholder="Digite o telefone"  value="{$user.nrphone}">
          </div>
          <div class="form-group">
              <label for="desemail">E-mail</label>
              <input type="email" class="form-control" style="text-transform: lowercase;" id="desemail" name="desemail" placeholder="Digite o e-mail" value="{$user.desemail}">
          </div>
          <div class="form-group">
              <label for="inadmin">Perfil</label></br>
              <select name="inadmin" id="inadmin" style="height: 36px">
                <option style="display: none" value="0" {if="$user.inadmin == 0"}selected{/if}>Master</option>
                <option value="1" {if="$user.inadmin == 1"}selected{/if}>Administrador</option>
                <option value="2" {if="$user.inadmin == 2"}selected{/if}>Ouvidor</option>
                <option value="3" {if="$user.inadmin == 3"}selected{/if}>Cidadão</option>
                <option value="4" {if="$user.inadmin == 4"}selected{/if}>Consulta</option>
            </select>
        </div>
    </div>
    <!-- /.box-body -->
    <div class="box-footer">
     <button type="submit" class="btn btn-primary">Salvar</button>
   </div>
</form>
</div>
</div>
</div>

</section>
<!-- /.content -->
</div>
<!-- /.content-wrapper -->
<script type="text/javascript" DEFER="DEFER">
  // INICIO FUNÇÃO DE MOSTRA ORGÃO EMISSOR
  window.onload=function(){
    var campoRG = document.getElementById('destypedoc').value;
    var display = campoRG == 'RG' ? 'block' : 'none';
    document.getElementById('hidden_div').style.display = display;


    document.getElementById('destypedoc').addEventListener('change', function () {
      var style = this.value == 'RG' ? 'block' : 'none';
      document.getElementById('hidden_div').style.display = style;
    });
 }
  // INICIO FUNÇÃO DE MASCARA MAIUSCULA
  var ignorar = ["das", "dos", "e", "é", "do", "da", "de"];

  function caixaAlta(string) {
    return String(string).toLowerCase().replace(/([^A-zÀ-ú]?)([A-zÀ-ú]+)/g, function(match, separator, word) {
      if (ignorar.indexOf(word) != -1) return separator + word;
      return separator + word.charAt(0).toUpperCase() + word.slice(1);
    });
  }
  function corrigirValor(el) {
    el.value = caixaAlta(el.value);
  }
  // INICIO FUNÇÃO DE MASCARA MAIUSCULA
  function maiuscula(z){
    v = z.value.toUpperCase();
    z.value = v;
 }
//FIM DA FUNÇÃO MASCARA MAIUSCULA
</script>
